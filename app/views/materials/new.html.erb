<h3>Add A New Material</h3>
<div id="materialResult">
  <ul>
    <li><h4 id="materialName"></h4> <p id="materialQuantityOnHand"></p></li>
  </ul>
</div>

<%= render 'form' %>

<script type="text/javascript" charset="utf-8">

$(function () {
  $('.new_material').on("submit", function(event) {
    event.preventDefault();
    var values = $(this).serialize();
    var materialID = this.id;
    //var $form = $(this)
    var material = $.post('/materials', values);
      material.done(function(data) {

        // parseMaterial(data)
        var material = data;
        $("#materialName").append("<li id=material-" + materialID +">" + material["name"] + " - quantity on hand: " + material["quantity_on_hand"] + "</li>")

      });
      return false; //Super Important! This returns the form submit button to original state by NOT submitting the form. (sounds strange...I know but it works)
    });
  });
</script>

<script id="material-template" type="text/x-handlebars-template">
  <div class="entry">
    <h4>{{name}}</h4>
    <div class="body">
      {{body}}
    </div>
  </div>

</script>
